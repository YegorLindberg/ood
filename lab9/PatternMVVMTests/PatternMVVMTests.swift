//
//  PatternMVVMTests.swift
//  PatternMVVMTests
//
//  Created by Yegor Lindberg on 11/05/2019.
//  Copyright Â© 2019 Yegor Lindberg. All rights reserved.
//

import XCTest
@testable import PatternMVVM

class PatternMVVMTests: XCTestCase {

    func testModelClosure() {
        let harmonic = Harmonic(amplitude: 1, frequency: 2, phase: 0, trigonometricFunc: TrigonometricFunc.sin)
        var integer = 0
        harmonic.bind {
            integer += 1
        }
        
        XCTAssert(integer == 0)
        XCTAssert(harmonic.formula == "1.0 * sin(2.0 * x + 0.0)")
        
        harmonic.amplitude = 3.0
        harmonic.frequency = 4.0
        XCTAssert(integer == 2)
        XCTAssert(harmonic.formula == "3.0 * sin(4.0 * x + 0.0)")
        
        harmonic.phase = 0.5
        harmonic.trigonometricFunc = .cos
        XCTAssert(integer == 4)
        XCTAssert(harmonic.formula == "3.0 * cos(4.0 * x + 0.5)")
    }

}
